<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="cards" style="--clr: #03a94f">
      <div class="pixel-container"></div>
      <h2>01</h2>
      <div class="content">
        <h3>Explosive Cards</h3>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas,
          voluptate.
        </p>
        <a href="#"> Read More </a>
      </div>
    </div>

    <script>
      const $cards = document.querySelectorAll(".cards");

      $cards.forEach((card) => {
        const $pixelContainer = card.querySelector(".pixel-container");

        const pixSize = 20;
        const cardWidth = card.offsetWidth;
        const cardHeight = card.offsetHeight;

        const cols = Math.ceil(cardWidth / pixSize);
        const rows = Math.ceil(cardHeight / pixSize);

        for (let row = 0; row < rows; row++) {
          for (let col = 0; col < cols; col++) {
            const $pixel = document.createElement("div");
            $pixel.classList.add("pixel");

            $pixel.style.left = col * pixSize + "px";
            $pixel.style.top = row * pixSize + "px";

            let tx = (Math.random() - 0.5) * 100;
            let ty = (Math.random() - 0.5) * 100;

            let delay = Math.random() * 0.5;

            $pixel.style.transitionDelay = delay + "s";

            $pixel.style.setProperty("--tx", tx + "px");
            $pixel.style.setProperty("--ty", ty + "px");

            $pixelContainer.appendChild($pixel);
          }
        }
      });
    </script>
  </body>
</html>
